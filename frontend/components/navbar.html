<!-- Standardized Navbar Component -->
<nav class="navbar">
  <div class="nav-container">
    <button class="hamburger-menu" id="hamburger-menu" onclick="toggleMobileMenu()" aria-label="Toggle menu">
      <i class="fas fa-bars"></i>
    </button>
    
    <a href="index.html" class="logo">
      <img src="../mj-images/mj-logo.gif" alt="MJE Logo">
    </a>

    <div class="nav-icons">
      <a href="cart.html" class="nav-icon auth-link" style="display:none" title="Cart">
        <i class="fas fa-shopping-cart"></i>
        <span>Cart</span>
        <span class="cart-badge">0</span>
      </a>
      <a href="user-dashboard.html" class="nav-icon auth-link" style="display:none" title="Account">
        <i class="fas fa-user"></i>
        <span>Account</span>
      </a>
      <a href="login.html" class="nav-icon guest-link" title="Login">
        <i class="fas fa-user"></i>
        <span>Login</span>
      </a>
    </div>
  </div>

  <div class="nav-bottom">
    <div class="nav-container">
      <ul class="nav-links">
        <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="products.html"><i class="fas fa-box"></i> Products</a></li>
        <li><a href="categories.html"><i class="fas fa-th"></i> Categories</a></li>
        <li><a href="about.html"><i class="fas fa-info-circle"></i> About Us</a></li>
        <li><a href="contact.html"><i class="fas fa-phone"></i> Contact</a></li>
        <li><a href="about.html#faq"><i class="fas fa-question-circle"></i> FAQ</a></li>
      </ul>
      <div class="support-contact">
        <i class="fas fa-phone-alt"></i>
        <div>
          <strong>+233 XX XXX XXXX</strong>
          <small>24/7 Support Center</small>
        </div>
      </div>
    </div>
  </div>
</nav>

<!-- Mobile Menu -->
<div class="mobile-menu-overlay" id="mobile-menu-overlay" onclick="closeMobileMenu()"></div>
<nav class="mobile-menu-sidebar" id="mobile-menu-sidebar">
  <div class="mobile-menu-header">
    <img src="../mj-images/mj-logo.gif" alt="MJE Logo" style="height: 40px; width: auto; object-fit: contain; max-width: 150px;">
    <button class="mobile-menu-close" onclick="closeMobileMenu()" aria-label="Close menu">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="mobile-menu-content">
    <div class="mobile-menu-user auth-link" style="display:none;">
      <div class="mobile-menu-user-avatar"><i class="fas fa-user-circle"></i></div>
      <div class="mobile-menu-user-info">
        <strong id="mobile-menu-username">Loading...</strong>
        <small id="mobile-menu-user-email">Loading...</small>
      </div>
    </div>
    <ul class="mobile-menu-links">
      <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
      <li><a href="products.html"><i class="fas fa-box"></i> Products</a></li>
      <li><a href="categories.html"><i class="fas fa-th"></i> Categories</a></li>
      <li><a href="about.html"><i class="fas fa-info-circle"></i> About Us</a></li>
      <li><a href="contact.html"><i class="fas fa-phone"></i> Contact</a></li>
      <li><a href="about.html#faq"><i class="fas fa-question-circle"></i> FAQ</a></li>
    </ul>
    <ul class="mobile-menu-links mobile-menu-auth">
      <li class="auth-link" style="display:none;">
        <a href="cart.html"><i class="fas fa-shopping-cart"></i> Cart <span class="mobile-menu-badge" id="mobile-menu-cart-badge">0</span></a>
      </li>
      <li class="auth-link" style="display:none;">
        <a href="user-dashboard.html"><i class="fas fa-user"></i> My Account</a>
      </li>
      <li class="auth-link" style="display:none;">
        <a href="#" onclick="handleLogout(); return false;"><i class="fas fa-sign-out-alt"></i> Logout</a>
      </li>
      <li class="guest-link"><a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a></li>
      <li class="guest-link"><a href="register.html"><i class="fas fa-user-plus"></i> Register</a></li>
    </ul>
    <div class="mobile-menu-support">
      <div class="mobile-menu-support-item">
        <i class="fas fa-phone-alt"></i>
        <div><strong>24/7 Support</strong><small>+233 597528733</small></div>
      </div>
    </div>
  </div>
</nav>

<script>
  // Mobile Menu Functions
  function toggleMobileMenu() {
    const sidebar = document.getElementById('mobile-menu-sidebar');
    const overlay = document.getElementById('mobile-menu-overlay');
    const hamburger = document.getElementById('hamburger-menu');
    
    if (sidebar && overlay && hamburger) {
      sidebar.classList.toggle('active');
      overlay.classList.toggle('active');
      hamburger.classList.toggle('active');
      document.body.classList.toggle('menu-open');
      
      // Update user data when menu opens
      if (sidebar.classList.contains('active') && typeof updateMobileMenuAuth === 'function') {
        updateMobileMenuAuth();
      }
    }
  }
  
  function closeMobileMenu() {
    const sidebar = document.getElementById('mobile-menu-sidebar');
    const overlay = document.getElementById('mobile-menu-overlay');
    const hamburger = document.getElementById('hamburger-menu');
    
    if (sidebar && overlay && hamburger) {
      sidebar.classList.remove('active');
      overlay.classList.remove('active');
      hamburger.classList.remove('active');
      document.body.classList.remove('menu-open');
    }
  }
  
  function updateMobileMenuAuth() {
    const state = stateManager?.getState();
    const username = document.getElementById('mobile-menu-username');
    const email = document.getElementById('mobile-menu-user-email');
    
    if (state && state.isAuthenticated && state.user) {
      if (username) username.textContent = state.user.name || 'User';
      if (email) email.textContent = state.user.email || '';
    } else {
      if (username) username.textContent = 'Loading...';
      if (email) email.textContent = 'Loading...';
    }
    
    updateMobileMenuBadges();
  }
  
  function updateMobileMenuBadges() {
    const cartBadge = document.getElementById('mobile-menu-cart-badge');
    
    if (cartBadge && typeof stateManager !== 'undefined') {
      const cartCount = stateManager.getCartCount();
      cartBadge.textContent = cartCount;
      cartBadge.style.display = cartCount > 0 ? 'inline-block' : 'none';
    }
  }
  
  // Update badges when state changes
  if (typeof stateManager !== 'undefined') {
    stateManager.subscribe(() => {
      updateMobileMenuAuth();
    });
  }
  
  // Initialize on page load
  document.addEventListener('DOMContentLoaded', () => {
    if (typeof stateManager !== 'undefined') {
      updateMobileMenuAuth();
    }
  });
</script>
